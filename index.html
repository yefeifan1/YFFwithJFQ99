<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™å®å®çš„åœ£è¯æƒŠå–œ â¤ï¸</title>
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }
        
        /* é¡µé¢å®¹å™¨ */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease;
        }
        
        /* ç¬¬ä¸€é¡µæ ·å¼ */
        #page1 {
            z-index: 10;
        }
        
        .page1-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }
        
        .page1-content {
            text-align: center;
            color: white;
            text-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
            padding: 20px;
            max-width: 90%;
        }
        
        .title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        .click-hint {
            font-size: 1.3rem;
            margin-top: 20px;
            color: #fff;
            opacity: 0.9;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        /* è·³åŠ¨çˆ±å¿ƒæ ·å¼ */
        .heart {
            font-size: 100px;
            cursor: pointer;
            animation: heartbeat 1.2s infinite;
            filter: drop-shadow(0 5px 15px rgba(255, 0, 85, 0.4));
            transition: transform 0.3s ease;
        }
        
        .heart:hover {
            transform: scale(1.1);
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* ç¬¬äºŒé¡µæ ·å¼ */
        #page2 {
            opacity: 0;
            pointer-events: none;
            z-index: 5;
        }
        
        .video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
        }
        
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: -1;
        }
        
        .love-messages {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            color: white;
            width: 90%;
            max-width: 600px;
        }
        
        .message {
            font-size: 1.8rem;
            margin-bottom: 20px;
            line-height: 1.5;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
            opacity: 0;
            white-space: nowrap;
            overflow: hidden;
        }
        
        /* æ‰“å­—æœºæ•ˆæœåŠ¨ç”» */
        .typing {
            display: inline-block;
            overflow: hidden;
            border-right: 3px solid rgba(255, 255, 255, 0.7);
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: rgba(255, 255, 255, 0.7); }
        }
        
        /* æ§åˆ¶æŒ‰é’®æ ·å¼ */
        .controls {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }
        
        .control-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        /* é›ªèŠ±å’Œçˆ±å¿ƒç‰¹æ•ˆ */
        .effects-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .snowflake, .floating-heart {
            position: absolute;
            color: white;
            user-select: none;
            pointer-events: none;
        }
        
        .snowflake {
            font-size: 20px;
            opacity: 0.8;
        }
        
        .floating-heart {
            font-size: 24px;
            color: #ffb6c1; /* æ·¡ç²‰è‰² */
            text-shadow: 0 0 10px rgba(255, 182, 193, 0.7);
        }
        
        /* é›ªèŠ±å’Œçˆ±å¿ƒé£˜è½åŠ¨ç”» */
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .title {
                font-size: 1.8rem;
            }
            
            .click-hint {
                font-size: 1.1rem;
            }
            
            .heart {
                font-size: 80px;
            }
            
            .message {
                font-size: 1.4rem;
            }
            
            .controls {
                top: 15px;
                left: 15px;
            }
            
            .control-btn {
                width: 35px;
                height: 35px;
                font-size: 18px;
            }
        }
        
        @media (max-width: 480px) {
            .title {
                font-size: 1.5rem;
            }
            
            .click-hint {
                font-size: 1rem;
            }
            
            .heart {
                font-size: 60px;
            }
            
            .message {
                font-size: 1.2rem;
            }
            
            .love-messages {
                bottom: 15%;
            }
        }
    </style>
</head>
<body>
    <!-- ç¬¬ä¸€é¡µ -->
    <div class="page" id="page1">
        <!-- èƒŒæ™¯å›¾ç‰‡ - ä½¿ç”¨æ‚¨æä¾›çš„Catboxå›¾ç‰‡é“¾æ¥ -->
        <img src="https://files.catbox.moe/44506s.jpg" 
             alt="æµªæ¼«èƒŒæ™¯" 
             class="page1-bg"
             onerror="this.src='https://images.unsplash.com/photo-1512389142860-9c449e58a543?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80'">
        
        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="controls">
            <button class="control-btn" id="videoControl" title="æ’­æ”¾/æš‚åœè§†é¢‘">â–¶ï¸</button>
            <button class="control-btn" id="audioControl" title="æ’­æ”¾/æš‚åœéŸ³é¢‘">ğŸµ</button>
        </div>
        
        <!-- ä¸»å†…å®¹ -->
        <div class="page1-content">
            <h1 class="title">å˜¿å˜¿ï¼Œæ­å–œå®å®å‘ç°æˆ‘ç»™ä½ çš„å°æƒŠå–œå•¦</h1>
            <div class="heart" id="mainHeart">â¤ï¸</div>
            <p class="click-hint">ç‚¹å‡»çˆ±å¿ƒå’Œæˆ‘ä¸€èµ·åº¦è¿‡æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªåœ£è¯</p>
        </div>
    </div>
    
    <!-- ç¬¬äºŒé¡µ -->
    <div class="page" id="page2">
        <!-- èƒŒæ™¯è§†é¢‘ - ä½¿ç”¨æ‚¨æä¾›çš„Catboxè§†é¢‘é“¾æ¥ -->
        <video class="video-bg" id="bgVideo" loop muted playsinline>
            <!-- ä¸»è§†é¢‘æºï¼šæ‚¨çš„Catboxè§†é¢‘é“¾æ¥ -->
            <source src="https://files.catbox.moe/ier2g0.mp4" type="video/mp4">
            <!-- å¤‡ç”¨è§†é¢‘æºï¼šåœ¨çº¿è§†é¢‘ï¼ˆå¦‚æœCatboxé“¾æ¥å¤±æ•ˆï¼‰ -->
            <source src="https://assets.mixkit.co/videos/preview/mixkit-heart-shaped-balloon-4929-large.mp4" type="video/mp4">
        </video>
        
        <!-- åŠé€æ˜é®ç½© -->
        <div class="overlay"></div>
        
        <!-- ç‰¹æ•ˆå®¹å™¨ -->
        <div class="effects-container" id="effectsContainer"></div>
        
        <!-- è¡¨ç™½æ–‡å­— -->
        <div class="love-messages">
            <p class="message" id="message1"></p>
            <p class="message" id="message2"></p>
            <p class="message" id="message3"></p>
            <p class="message" id="message4"></p>
            <p class="message" id="message5"></p>
            <p class="message" id="message6"></p>
            <p class="message" id="message7"></p>
        </div>
    </div>
    
    <!-- éŸ³é¢‘å…ƒç´  - å·²æ›¿æ¢ä¸ºæ‚¨çš„CatboxéŸ³é¢‘é“¾æ¥ï¼ˆå¯ä¸å¯ä»¥ï¼‰ -->
    <audio id="bgMusic" loop>
        <!-- ä¸»éŸ³é¢‘æºï¼šæ‚¨çš„CatboxéŸ³é¢‘é“¾æ¥ï¼ˆå¯ä¸å¯ä»¥ï¼‰ -->
        <source src="https://files.catbox.moe/crqqwd.mp3" type="audio/mpeg">
        <!-- å¤‡ç”¨éŸ³é¢‘æº1ï¼šç½‘æ˜“äº‘éŸ³ä¹ç‰ˆæœ¬ -->
        <source src="https://music.163.com/song/media/outer/url?id=1297742316.mp3" type="audio/mpeg">
        <!-- å¤‡ç”¨éŸ³é¢‘æº2ï¼šå¦ä¸€ä¸ªç‰ˆæœ¬ -->
        <source src="https://freetyst.ml/music/222222/1968929/1968929.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // é¡µé¢å…ƒç´ 
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const mainHeart = document.getElementById('mainHeart');
        const bgVideo = document.getElementById('bgVideo');
        const bgMusic = document.getElementById('bgMusic');
        const effectsContainer = document.getElementById('effectsContainer');
        const videoControl = document.getElementById('videoControl');
        const audioControl = document.getElementById('audioControl');
        
        // è¡¨ç™½æ–‡å­—å†…å®¹
        const messages = [
            "å®å®å®å®",
            "è¿™æ˜¯æˆ‘å’Œä½ è¿‡çš„ç¬¬ä¸€ä¸ªåœ£è¯èŠ‚",
            "æˆ‘å¥½å–œæ¬¢å¥½å–œæ¬¢ä½ ï¼",
            "æˆ‘ä¸è¦çœ‹ç¼˜åˆ†",
            "æˆ‘å°±æ˜¯è¦å’Œä½ åœ¨ä¸€èµ·ä¸€è¾ˆå­ï¼",
            "æˆ‘ä¹Ÿæ²¡æœ‰ä¿¡å¿ƒï¼Œä½†æ˜¯æˆ‘æœ‰å†³å¿ƒï¼",
            "æœ€å–œæ¬¢æœ€å–œæ¬¢ä½ å•¦ï¼Œmuaï½"
        ];
        
        // åˆå§‹åŒ–å˜é‡
        let isVideoPlaying = false;
        let isAudioPlaying = false;
        let snowflakes = [];
        let hearts = [];
        
        // é¡µé¢åˆ‡æ¢
        mainHeart.addEventListener('click', function() {
            // è·³åŠ¨åŠ¨ç”»
            this.style.animation = 'none';
            setTimeout(() => {
                this.style.animation = 'heartbeat 1.2s infinite';
            }, 10);
            
            // åˆ‡æ¢é¡µé¢
            page1.style.opacity = '0';
            page1.style.pointerEvents = 'none';
            
            setTimeout(() => {
                page2.style.opacity = '1';
                page2.style.pointerEvents = 'auto';
                
                // æ’­æ”¾è§†é¢‘å’ŒéŸ³é¢‘
                playVideo();
                playAudio();
                
                // å¼€å§‹ç‰¹æ•ˆ
                startEffects();
                
                // é¢„åŠ è½½è§†é¢‘
                bgVideo.load();
                
                // å¼€å§‹æ‰“å­—æœºæ•ˆæœ
                startTypingEffect();
                
            }, 1000);
        });
        
        // æ‰“å­—æœºæ•ˆæœ
        function startTypingEffect() {
            const messageElements = [
                document.getElementById('message1'),
                document.getElementById('message2'),
                document.getElementById('message3'),
                document.getElementById('message4'),
                document.getElementById('message5'),
                document.getElementById('message6'),
                document.getElementById('message7')
            ];
            
            // æ¸…ç©ºæ‰€æœ‰æ¶ˆæ¯å…ƒç´ 
            messageElements.forEach(el => {
                el.innerHTML = '';
                el.style.opacity = 0;
            });
            
            // é€ä¸ªæ˜¾ç¤ºæ¶ˆæ¯
            let currentMessage = 0;
            
            function showNextMessage() {
                if (currentMessage >= messages.length) return;
                
                const element = messageElements[currentMessage];
                const text = messages[currentMessage];
                
                // è®¾ç½®æ¶ˆæ¯æ–‡æœ¬
                element.innerHTML = '';
                element.style.opacity = 1;
                
                // åˆ›å»ºæ‰“å­—æœºæ•ˆæœ
                let i = 0;
                function typeWriter() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(typeWriter, 100);
                    } else {
                        // æ˜¾ç¤ºä¸‹ä¸€æ¡æ¶ˆæ¯
                        currentMessage++;
                        setTimeout(showNextMessage, 1000);
                    }
                }
                
                // å¼€å§‹æ‰“å­—æ•ˆæœ
                typeWriter();
            }
            
            // å¼€å§‹æ˜¾ç¤ºç¬¬ä¸€æ¡æ¶ˆæ¯
            setTimeout(showNextMessage, 500);
        }
        
        // è§†é¢‘æ§åˆ¶
        function playVideo() {
            bgVideo.play().then(() => {
                isVideoPlaying = true;
                videoControl.textContent = 'â¸ï¸';
            }).catch(error => {
                console.log('è§†é¢‘æ’­æ”¾å¤±è´¥:', error);
                videoControl.textContent = 'â–¶ï¸';
            });
        }
        
        function pauseVideo() {
            bgVideo.pause();
            isVideoPlaying = false;
            videoControl.textContent = 'â–¶ï¸';
        }
        
        videoControl.addEventListener('click', function() {
            if (isVideoPlaying) {
                pauseVideo();
            } else {
                playVideo();
            }
        });
        
        // éŸ³é¢‘æ§åˆ¶
        function playAudio() {
            bgMusic.volume = 0.5;
            bgMusic.play().then(() => {
                isAudioPlaying = true;
                audioControl.textContent = 'ğŸ”Š';
            }).catch(error => {
                console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', error);
                audioControl.textContent = 'ğŸ”‡';
            });
        }
        
        function pauseAudio() {
            bgMusic.pause();
            isAudioPlaying = false;
            audioControl.textContent = 'ğŸ”‡';
        }
        
        audioControl.addEventListener('click', function() {
            if (isAudioPlaying) {
                pauseAudio();
            } else {
                playAudio();
            }
        });
        
        // åˆ›å»ºé›ªèŠ±
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.textContent = 'â„ï¸';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.fontSize = (Math.random() * 20 + 10) + 'px';
            snowflake.style.opacity = Math.random() * 0.7 + 0.3;
            
            // è®¾ç½®éšæœºé£˜è½é€Ÿåº¦å’Œå»¶è¿Ÿ
            const duration = Math.random() * 8 + 6; // 6-14ç§’
            const delay = Math.random() * 5;
            
            snowflake.style.animation = `fall ${duration}s linear ${delay}s infinite`;
            
            effectsContainer.appendChild(snowflake);
            snowflakes.push(snowflake);
            
            // ç§»é™¤æ—§çš„é›ªèŠ±
            if (snowflakes.length > 100) {
                const oldSnowflake = snowflakes.shift();
                if (oldSnowflake && oldSnowflake.parentNode) {
                    oldSnowflake.parentNode.removeChild(oldSnowflake);
                }
            }
        }
        
        // åˆ›å»ºçˆ±å¿ƒ - ä¸é›ªèŠ±é€Ÿåº¦ä¸€è‡´
        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = 'â¤ï¸';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px'; // 15-35px
            heart.style.opacity = Math.random() * 0.8 + 0.2;
            
            // ä¸é›ªèŠ±ç›¸åŒçš„é£˜è½é€Ÿåº¦å’Œå»¶è¿Ÿ
            const duration = Math.random() * 8 + 6; // 6-14ç§’ï¼Œä¸é›ªèŠ±ä¸€è‡´
            const delay = Math.random() * 5;
            
            heart.style.animation = `fall ${duration}s linear ${delay}s infinite`;
            
            effectsContainer.appendChild(heart);
            hearts.push(heart);
            
            // ç§»é™¤æ—§çš„çˆ±å¿ƒ
            if (hearts.length > 50) {
                const oldHeart = hearts.shift();
                if (oldHeart && oldHeart.parentNode) {
                    oldHeart.parentNode.removeChild(oldHeart);
                }
            }
        }
        
        // å¼€å§‹ç‰¹æ•ˆ
        function startEffects() {
            // å¼€å§‹åˆ›å»ºç‰¹æ•ˆ
            setInterval(createSnowflake, 300);
            setInterval(createFloatingHeart, 500);
            
            // åˆå§‹åˆ›å»ºä¸€äº›ç‰¹æ•ˆ
            for (let i = 0; i < 20; i++) {
                createSnowflake();
            }
            for (let i = 0; i < 10; i++) {
                createFloatingHeart();
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå°è¯•æ’­æ”¾éŸ³é¢‘
        window.addEventListener('load', function() {
            // è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„å¤‡ç”¨æ–¹æ¡ˆ
            const bgImg = document.querySelector('.page1-bg');
            if (bgImg.naturalWidth === 0) {
                console.log('Catboxå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨å›¾ç‰‡');
                bgImg.src = 'https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80';
            }
            
            // å°è¯•æ’­æ”¾éŸ³é¢‘ï¼ˆå¯èƒ½éœ€è¦ç”¨æˆ·äº¤äº’ï¼‰
            setTimeout(() => {
                playAudio();
            }, 1000);
        });
        
        // å¤„ç†é¡µé¢å¯è§æ€§å˜åŒ–
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (isVideoPlaying) pauseVideo();
                if (isAudioPlaying) pauseAudio();
            } else {
                if (page2.style.opacity === '1') {
                    if (!isVideoPlaying) playVideo();
                    if (!isAudioPlaying) playAudio();
                }
            }
        });
        
        // è§¦æ‘¸äº‹ä»¶æ”¯æŒ
        document.addEventListener('touchstart', function() {
            if (!isAudioPlaying && page2.style.opacity === '1') {
                playAudio();
            }
        }, { once: true });
        
        // èµ„æºåŠ è½½å¤±è´¥å¤„ç†
        bgVideo.addEventListener('error', function() {
            console.log('è§†é¢‘åŠ è½½å¤±è´¥ï¼Œåˆ‡æ¢åˆ°å¤‡ç”¨è§†é¢‘æº');
        });
        
        bgMusic.addEventListener('error', function() {
            console.log('CatboxéŸ³é¢‘åŠ è½½å¤±è´¥ï¼Œåˆ‡æ¢åˆ°å¤‡ç”¨éŸ³é¢‘æº');
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space') {
                if (page2.style.opacity === '1') {
                    if (isVideoPlaying) {
                        pauseVideo();
                    } else {
                        playVideo();
                    }
                }
            } else if (e.code === 'KeyM') {
                if (isAudioPlaying) {
                    pauseAudio();
                } else {
                    playAudio();
                }
            }
        });
    </script>
</body>
</html>
